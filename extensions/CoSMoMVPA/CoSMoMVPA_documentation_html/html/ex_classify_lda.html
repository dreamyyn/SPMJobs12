    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Classification analysis &#8212; CoSMo Multivariate Pattern Analysis toolbox 1.0rc1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0rc1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Classification analysis with cross-validation" href="ex_nfold_crossvalidation.html" />
    <link rel="prev" title="Split-half correlation-based MVPA with group analysis" href="ex_splithalf_correlations.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ex_nfold_crossvalidation.html" title="Classification analysis with cross-validation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ex_splithalf_correlations.html" title="Split-half correlation-based MVPA with group analysis"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CoSMoMVPA</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cimec2016.html" >CIMeC hands-on methods course, part 1 (6 April-2 May 2016)</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="cimec2016_ex_toc.html" accesskey="U">Exercises</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="classification-analysis">
<span id="ex-classify-lda"></span><h1>Classification analysis<a class="headerlink" href="#classification-analysis" title="Permalink to this headline">¶</a></h1>
<div class="section" id="reading-material">
<h2>Reading material<a class="headerlink" href="#reading-material" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="references.html#cos03" id="id1">[CS03]</a>: First use of a classifier on fMRI data.</li>
<li><a class="reference internal" href="references.html#mbk09" id="id2">[MBK09]</a>: Classification introduction and overview.</li>
</ul>
</div>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>This exercise shows a more advanced MVPA topic, the use of a classifier (first reported in <a class="reference internal" href="references.html#cos03" id="id3">[CS03]</a>). Using a classifier involves two steps:</p>
<ul>
<li><p class="first">training: a set of <code class="docutils literal"><span class="pre">samples</span></code> (the patterns) with associated <code class="docutils literal"><span class="pre">.sa.targets</span></code> (conditions) together are called the <em>training set</em>. The training set is used so that the classifiers <em>learns</em> which patterns are associated with each condition.</p>
<blockquote>
<div><ul class="simple">
<li>(side note: learning associations between patterns and conditions can be done in many ways. Popular approaches are Naive Bayes, Linear Discriminant Analysis, and Support Vector Machines (Nearest Neighbor classification is another approach, but less useful for fMRI data). They make different assumptions about the distribution of the patterns and what is the best way to separate patterns from different conditions). When in doubt which classifier to use, one recommendation is to use either LDA or SVM. The former seems less popular in the literature, but is typically faster and has fewer free parameters (thus potentially reducing a researcher&#8217;s degrees of freedom).</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">testing: predict the conditions (<code class="docutils literal"><span class="pre">.sa.targets</span></code>) for another set of samples (the <em>test set</em>), to see how well the classifier can generalize to a new set of data.</p>
</li>
</ul>
<p>Classification performance can be assessed by considering how many predictions for the set set were correct.</p>
<blockquote>
<div><ul>
<li><p class="first">No peeking is allowed.</p>
<blockquote>
<div><ul class="simple">
<li>During the testing step, the classifier is not allowed to <em>peek</em> at the conditions. Otherwise it could just use those conditions and classification would always be perfect.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">No double dipping.</p>
<blockquote>
<div><ul class="simple">
<li>The training and test set must be independent. In CoSMoMVPA, independence can be indicated by the <code class="docutils literal"><span class="pre">.sa.chunks</span></code> attribute. In fMRI data, usually one takes one chunk value for each data acquisition run. If the data were not independent, then the classifier could overtrain on the training data but unable to generalize to new, independent data.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Multiple samples in each class are required (almost always).</p>
<blockquote>
<div><p>Unlike the <a class="reference internal" href="matlab/cosmo_correlation_measure.html#cosmo-correlation-measure"><span class="std std-ref">cosmo correlation measure</span></a>, a classifier usually requires that the training set has multiple samples of each class. It can use this information to assess, for example, variability of responses in each feature. This makes a classifier potentially more sensitive than a standard split-half analysis (<a class="reference internal" href="ex_splithalf_correlations.html#ex-splithalf-correlations"><span class="std std-ref">Split-half correlation-based MVPA with group analysis</span></a>).</p>
</div></blockquote>
</li>
<li><p class="first">How to assess classification performance?</p>
<blockquote>
<div><blockquote>
<div><ul>
<li><p class="first">A very stupid classifier, one that would not even look at the data, could, for example</p>
<blockquote>
<div><ul class="simple">
<li>either predict all samples in the test set to belong to the same classes (e.g. the first one), or</li>
<li>predict a random class for each sample in the test set.</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>In this case, if there are <code class="docutils literal"><span class="pre">C</span></code> classes (unique targets), which each class occuring equally often, then each sample in the test set has a chance of being predicted correctly of <code class="docutils literal"><span class="pre">1/C</span></code> (the chance level). For example, with four classes, each sample would be predicted correctly with a chance of 1/4, or 25%.</li>
<li>If a set of patterns an a region of interest actually contains information about the conditions (i.e, is an informative region), <em>and</em> the classifier is able to use this information, then classification performance would be above chance level.</li>
<li>If a group of participants all show classification accuracy above chance consistently, one can claim that the region of interest contains information about the the conditions. A simple one-sample t-test against chance level can be used to obtain a statistic and associated p-value.</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>A single classification step can be visualized as follows (more advanced cross-validation is part of <a class="reference internal" href="ex_nfold_crossvalidation.html#ex-nfold-crossvalidation"><span class="std std-ref">another exercise</span></a>):</p>
<div class="figure" id="id4">
<img alt="_images/single_classification.png" src="_images/single_classification.png" />
<p class="caption"><span class="caption-text"><em>Illustration of (single-fold) classification</em>. A dataset (left) is split in a train dataset (top dataset) and a test set (bottom dataset), which must have no chunks in common. For training, a classifier (indicated by <em>f</em>) takes <code class="docutils literal"><span class="pre">.samples</span></code> and <code class="docutils literal"><span class="pre">.sa.targets</span></code> from the train dataset (horizontal arrow into <em>f</em>) and predicts, for the <code class="docutils literal"><span class="pre">.samples</span></code> in the test set (horizontal arrow into <em>f</em>), the targets of the test set (U-turn arrow). Classification accuracy can be assessed by computing how many samples in the test set were predicted correctly.</span></p>
</div>
</div>
<div class="section" id="single-subject-single-fold-split-half-classification">
<h2>Single subject, single fold split-half classification<a class="headerlink" href="#single-subject-single-fold-split-half-classification" title="Permalink to this headline">¶</a></h2>
<p>Before starting this exercise, please make sure you have read about:</p>
<ul class="simple">
<li><a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-classifier"><span class="std std-ref">Classifier</span></a></li>
</ul>
<p>For this exercise, load a dataset using subject <code class="docutils literal"><span class="pre">s01</span></code>&#8216;s T-statistics for every run
(&#8216;glm_T_stats_perrun.nii&#8217;) and the VT mask.</p>
<p>Slice (using <a class="reference internal" href="matlab/cosmo_slice.html#cosmo-slice"><span class="std std-ref">cosmo slice</span></a>) the dataset twice to get odd and even runs.</p>
<p>Part 1:</p>
<blockquote>
<div><ul class="simple">
<li>Slice the odd and even runs again so that there are only two categories: warblers and mallards.</li>
<li>Train and test a LDA (linear discriminant analyses; <a class="reference internal" href="matlab/cosmo_classify_lda.html#cosmo-classify-lda"><span class="std std-ref">cosmo classify lda</span></a>) classifier,  training on the even-runs data and testing on the odds.</li>
<li>Compute classification accuracy</li>
<li>Repeat the previous two steps using  <a class="reference internal" href="matlab/cosmo_classify_naive_bayes.html#cosmo-classify-naive-bayes"><span class="std std-ref">cosmo classify naive bayes</span></a></li>
</ul>
<p>Advanced exercises:</p>
<ul class="simple">
<li>What is the accuracy for monkey versus ladybug? Monkey versus lemur?</li>
<li>What if you use the EV mask?</li>
</ul>
</div></blockquote>
<p>Part 2:</p>
<blockquote>
<div><ul class="simple">
<li>Use the data from all six categories to train on even runs and test on odd runs, and compute the classification accuracy.</li>
<li>As the previous step, but now test on odd runs and test on even runs.</li>
</ul>
</div></blockquote>
<p>Part 3:</p>
<blockquote>
<div><ul class="simple">
<li>Using the predictions and the true labels (targets), show a confusion matrix that counts how often a sample with <code class="docutils literal"><span class="pre">targets==i</span></code> was predicted to have label <code class="docutils literal"><span class="pre">j</span></code> (for <code class="docutils literal"><span class="pre">i</span></code>, <code class="docutils literal"><span class="pre">j</span></code> both in the range <code class="docutils literal"><span class="pre">1:6</span></code>). How can you interpret this matrix?</li>
</ul>
</div></blockquote>
<p>Template: <a class="reference internal" href="matlab/run_classify_lda_skl.html#run-classify-lda-skl"><span class="std std-ref">run classify lda skl</span></a></p>
<p>Check your answers here: <a class="reference internal" href="matlab/run_classify_lda.html#run-classify-lda"><span class="std std-ref">run classify lda</span></a> / <a class="reference external" href="_static/publish/run_classify_lda.html">Matlab output: run_classify_lda</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cosmomvpa_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Classification analysis</a><ul>
<li><a class="reference internal" href="#reading-material">Reading material</a></li>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#single-subject-single-fold-split-half-classification">Single subject, single fold split-half classification</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ex_splithalf_correlations.html"
                        title="previous chapter">Split-half correlation-based MVPA with group analysis</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ex_nfold_crossvalidation.html"
                        title="next chapter">Classification analysis with cross-validation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ex_classify_lda.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ex_nfold_crossvalidation.html" title="Classification analysis with cross-validation"
             >next</a> |</li>
        <li class="right" >
          <a href="ex_splithalf_correlations.html" title="Split-half correlation-based MVPA with group analysis"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CoSMoMVPA</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cimec2016.html" >CIMeC hands-on methods course, part 1 (6 April-2 May 2016)</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="cimec2016_ex_toc.html" >Exercises</a> &#187;</li> 
      </ul>
    </div>
      <div class="footer">
       <span class="creativecommons">
          <a href="http://opensource.org/licenses/MIT" >
          <img src="_static/mit-license_logo.png"
               border="0" alt="Creative Commons License"/>
         </a> 
         
        <a href="copyright.html">Copyright 2013-2016 Nikolaas N. Oosterhof, Andrew C. Connolly, CoSMoMVPA contributors</a>.
        CoSMoMVPA is licensed under a <a href="http://opensource.org/licenses/MIT">Expat (MIT) License</a>.
       </span>
      </div>
  </body>
</html>