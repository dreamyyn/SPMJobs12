    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using CoSMoMVPA neighborhoods for regions of interest &#8212; CoSMo Multivariate Pattern Analysis toolbox 1.0rc1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0rc1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Use the searchlight with a neighborhood and a measure" href="ex_searchlight_measure.html" />
    <link rel="prev" title="Using CoSMoMVPA measures" href="ex_measures.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ex_searchlight_measure.html" title="Use the searchlight with a neighborhood and a measure"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ex_measures.html" title="Using CoSMoMVPA measures"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CoSMoMVPA</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cimec2016.html" >CIMeC hands-on methods course, part 1 (6 April-2 May 2016)</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="cimec2016_ex_toc.html" accesskey="U">Exercises</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="using-cosmomvpa-neighborhoods-for-regions-of-interest">
<span id="ex-roi-neighborhood"></span><h1>Using CoSMoMVPA <em>neighborhoods</em> for regions of interest<a class="headerlink" href="#using-cosmomvpa-neighborhoods-for-regions-of-interest" title="Permalink to this headline">¶</a></h1>
<div class="section" id="rationale">
<h2>Rationale<a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="ex_measures.html#ex-measures"><span class="std std-ref">previous exercise</span></a> showed how to use a <a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-measure"><span class="std std-ref">measure</span></a> to both simplify and generalize across different common MVPA techniques (split-half correlations (<a class="reference internal" href="ex_splithalf_correlations.html#ex-splithalf-correlations"><span class="std std-ref">split-half correlations</span></a> and <a class="reference internal" href="ex_nfold_crossvalidation.html#ex-nfold-crossvalidation"><span class="std std-ref">classification with cross-validation</span></a>).</p>
<p>It is often useful to apply the <em>same measure</em> to <em>different subsets of the features</em>, for example:</p>
<blockquote>
<div><ul class="simple">
<li>Analysis of multiple ROIs.</li>
<li>Searchlight analysis, which is essentially repeated ROI analysis where each feature of the dataset is associated with a set of features around it.</li>
</ul>
</div></blockquote>
<p><a class="reference external" href="http://cosmomvpa.org">CoSMoMVPA</a> uses a <a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-neighborhood"><span class="std std-ref">neighborhood</span></a> to define <em>which</em> subsets of features are used.</p>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<p>Before starting this exercise, please read the following:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-neighborhood"><span class="std std-ref">Neighborhood</span></a></li>
</ul>
</div></blockquote>
<p>As a preparation for a whole-brain spherical searchlight, this exercise will make a very simple neighborhood that contains indices for only two ROIs (whole-brain searchlights have thousands of (partially overlapping) regions). In each ROI classification analysis with cross-validation and split-half correlation analysisis performed.</p>
<p>Part 1 requires the <em>manual</em> application of a measure to features indexed by the neighborhood; Parts 2, 3 and 4 show how a <a class="reference internal" href="matlab/cosmo_searchlight.html#cosmo-searchlight"><span class="std std-ref">cosmo searchlight</span></a> can be used to achieve the same.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li>this exercise requires familiarity with the <a class="reference internal" href="cosmomvpa_concepts.html#cosmomvpa-measure"><span class="std std-ref">measure</span></a> concept (<a class="reference internal" href="ex_measures.html#ex-measures"><span class="std std-ref">exercise</span></a>).</li>
<li>understanding the concept of a neighborhood is important for <a class="reference internal" href="ex_searchlight_measure.html#ex-searchlight-measure"><span class="std std-ref">another exercise</span></a> about whole-brain <a class="reference internal" href="cosmomvpa_concepts.html#searchlight"><span class="std std-ref">searchlights</span></a>.</li>
</ul>
</div></blockquote>
<div class="section" id="part-1">
<h3>Part 1<a class="headerlink" href="#part-1" title="Permalink to this headline">¶</a></h3>
<p>Load the dataset with subject <code class="docutils literal"><span class="pre">s01</span></code>&#8216;s t-statistic for every run (<code class="docutils literal"><span class="pre">glm_T_stats_perrun.nii</span></code>), but do not apply a mask.
Then load each of the two masks (<code class="docutils literal"><span class="pre">vt</span></code>, <code class="docutils literal"><span class="pre">ev</span></code>), and define a neighborhood where the <code class="docutils literal"><span class="pre">.neighbors</span></code> is a cell with two elements, each containing the features indices of the respective masks. Use <a class="reference internal" href="matlab/cosmo_slice.html#cosmo-slice"><span class="std std-ref">cosmo slice</span></a> to slice the dataset along features (once for each mask), then apply the <a class="reference internal" href="matlab/cosmo_crossvalidation_measure.html#cosmo-crossvalidation-measure"><span class="std std-ref">cosmo crossvalidation measure</span></a> measure with the <a class="reference internal" href="matlab/cosmo_classify_lda.html#cosmo-classify-lda"><span class="std std-ref">cosmo classify lda</span></a> classifier and partitions from <a class="reference internal" href="matlab/cosmo_nfold_partitioner.html#cosmo-nfold-partitioner"><span class="std std-ref">cosmo nfold partitioner</span></a> to compute classification accuracies for each of the masks.</p>
</div>
<div class="section" id="part-2">
<h3>Part 2<a class="headerlink" href="#part-2" title="Permalink to this headline">¶</a></h3>
<p>Using the neighborhood structure defined in Part 1, use the <a class="reference internal" href="matlab/cosmo_searchlight.html#cosmo-searchlight"><span class="std std-ref">cosmo searchlight</span></a> function to perform the same analysis as in Part 1.</p>
</div>
<div class="section" id="part-3">
<h3>Part 3<a class="headerlink" href="#part-3" title="Permalink to this headline">¶</a></h3>
<p>Using the same neighborhood structure, compute the split-half correlation measure (difference between Fisher-transformed on-diagonal versus off-diagonal elements) using <a class="reference internal" href="matlab/cosmo_correlation_measure.html#cosmo-correlation-measure"><span class="std std-ref">cosmo correlation measure</span></a>.</p>
</div>
<div class="section" id="part-4-advanced">
<h3>Part 4 (advanced)<a class="headerlink" href="#part-4-advanced" title="Permalink to this headline">¶</a></h3>
<p>Use the same neighborhood and measure as in Part 2, but now let the measure return the predictions of each sample in each ROI. Run the searchlight, compute the confusion matrices, and visualize these.</p>
<p>Template: <a class="reference internal" href="matlab/run_roi_neighborhood_skl.html#run-roi-neighborhood-skl"><span class="std std-ref">run roi neighborhood skl</span></a></p>
<p>Check your answers here: <a class="reference internal" href="matlab/run_roi_neighborhood.html#run-roi-neighborhood"><span class="std std-ref">run roi neighborhood</span></a> / <a class="reference external" href="_static/publish/run_roi_neighborhood.html">Matlab output: run_roi_neighborhood</a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cosmomvpa_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using CoSMoMVPA <em>neighborhoods</em> for regions of interest</a><ul>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#exercises">Exercises</a><ul>
<li><a class="reference internal" href="#part-1">Part 1</a></li>
<li><a class="reference internal" href="#part-2">Part 2</a></li>
<li><a class="reference internal" href="#part-3">Part 3</a></li>
<li><a class="reference internal" href="#part-4-advanced">Part 4 (advanced)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ex_measures.html"
                        title="previous chapter">Using CoSMoMVPA <em>measures</em></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ex_searchlight_measure.html"
                        title="next chapter">Use the searchlight with a neighborhood and a measure</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ex_neighborhood.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ex_searchlight_measure.html" title="Use the searchlight with a neighborhood and a measure"
             >next</a> |</li>
        <li class="right" >
          <a href="ex_measures.html" title="Using CoSMoMVPA measures"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CoSMoMVPA</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cimec2016.html" >CIMeC hands-on methods course, part 1 (6 April-2 May 2016)</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="cimec2016_ex_toc.html" >Exercises</a> &#187;</li> 
      </ul>
    </div>
      <div class="footer">
       <span class="creativecommons">
          <a href="http://opensource.org/licenses/MIT" >
          <img src="_static/mit-license_logo.png"
               border="0" alt="Creative Commons License"/>
         </a> 
         
        <a href="copyright.html">Copyright 2013-2016 Nikolaas N. Oosterhof, Andrew C. Connolly, CoSMoMVPA contributors</a>.
        CoSMoMVPA is licensed under a <a href="http://opensource.org/licenses/MIT">Expat (MIT) License</a>.
       </span>
      </div>
  </body>
</html>